#include <iostream>
#include <chrono>
#include <string>
#include <windows.h>

using namespace std;
using namespace std::chrono;

class Class3 {
public:
    int fac(int n) {
        if (n <= 1) { return 1; }
        return n * fac(n - 1);
    }

    int fac2(int n, int acc = 1) {
        if (n <= 1) { return acc; }
        return fac2(n - 1, acc * n);
    }

    int fib(int b) {
        if (b <= 1) { return b; }
        return fib(b - 1) + fib(b - 2);
    }

    int fib2(int b, int a = 0, int r = 1) {
        if (b == 1) { return r; }
        if (b == 0) { return a; }
        return fib2(b - 1, r, a + r);
    }

    int pow(int a, int b) {
        if (b == 0) { return 1; }
        return a * pow(a, b - 1);
    }

    int pow2(int a, int b, int c = 1) {
        if (b == 0) { return c; }
        return pow2(a, b - 1, a * c);
    }
};

int main() {
    setlocale(LC_ALL, "Ukrainian");

    system("cls"); 

    Class3 obj4;
    high_resolution_clock::time_point start, stop;

    // --- Факторіал ---
    start = high_resolution_clock::now();
    cout << "Фактор?ал = " << obj4.fac(5) << endl;
    stop = high_resolution_clock::now();
    cout << "-----------------------------" << endl;
    cout << "Час виконання: " << duration_cast<microseconds>(stop - start).count() << " mcr" << endl;
    cout << "-----------------------------" << endl;

    // --- Хвостовий Факторіал ---
    start = high_resolution_clock::now();
    cout << "Хвостовий Фактор?ал = " << obj4.fac2(5, 1) << endl;
    stop = high_resolution_clock::now();
    cout << "-----------------------------" << endl;
    cout << "Час виконання: " << duration_cast<microseconds>(stop - start).count() << " mcr" << endl;
    cout << "-----------------------------" << endl;

    // --- Фібоначі ---
    start = high_resolution_clock::now();
    cout << "Ф?бонач? = " << obj4.fib(8) << endl;
    stop = high_resolution_clock::now();
    cout << "-----------------------------" << endl;
     cout << " Час виконання: " << duration_cast<microseconds>(stop - start).count() << " mcr" << endl;
    cout << "-----------------------------" << endl;

    // --- Хвостовий Фібоначі ---
    start = high_resolution_clock::now();
    cout << "Хвостовий Ф?бонач? = " << obj4.fib2(8) << endl;
    stop = high_resolution_clock::now();
    cout << "-----------------------------" << endl;
     cout << " Час виконання: " << duration_cast<microseconds>(stop - start).count() << " mcr" << endl;
    cout << "-----------------------------" << endl;

    // --- Степінь ---
    start = high_resolution_clock::now();
    cout << "Степ?нь = " << obj4.pow(2, 4) << endl;
    stop = high_resolution_clock::now();
    cout << "-----------------------------" << endl;
   cout << " Час виконання: " << duration_cast<microseconds>(stop - start).count() << " mcr" << endl;
    cout << "-----------------------------" << endl;

    // --- Хвостовий Степінь ---
    start = high_resolution_clock::now();
    cout << "хвостовий Степ?нь = " << obj4.pow2(2, 4, 1) << endl;
    stop = high_resolution_clock::now();
    cout << "-----------------------------" << endl;
   cout << " Час виконання: " << duration_cast<microseconds>(stop - start).count() << " mcr" << endl;
    cout << "-----------------------------" << endl;

    return 0;
}
